import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time t travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotels": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109, USA",\n      "price": "$30-$70",\n      "hotelImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/CircusCircusLasVegas.jpg/1280px-CircusCircusLasVegas.jpg",\n      "geoCoordinates": "36.1215,-115.1745",\n      "rating": 3.5,\n      "description": "A classic Vegas hotel with a circus theme, offering affordable rooms and a lively atmosphere. Expect some noise."\n    },\n    {\n      "hotelName": "Excalibur Hotel & Casino",\n      "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109, USA",\n      "price": "$40-$80",\n      "hotelImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Excalibur_Hotel_and_Casino.jpg/1280px-Excalibur_Hotel_and_Casino.jpg",\n      "geoCoordinates": "36.0917,-115.1737",\n      "rating": 3,\n      "description": "Medieval-themed hotel on the Strip, known for its affordability and family-friendly amenities."\n    },\n    {\n      "hotelName": "Luxor Hotel & Casino",\n      "hotelAddress": "3900 S Las Vegas Blvd, Las Vegas, NV 89119, USA",\n      "price": "$50-$100",\n      "hotelImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Luxor_Hotel_and_Casino_Las_Vegas.jpg/1280px-Luxor_Hotel_and_Casino_Las_Vegas.jpg",\n      "geoCoordinates": "36.0900,-115.1728",\n      "rating": 3.5,\n      "description": "Pyramid-shaped hotel on the Strip offering a unique experience at a relatively affordable price. Can be a bit further from other attractions."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": "Day 1",\n      "plan": [\n        {\n          "time": "9:00 AM - 12:00 PM",\n          "placeName": "The Strip (South)",\n          "placeDetails": "Walk the southern part of the Las Vegas Strip, taking in the sights and sounds of the iconic casinos and hotels.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Las_Vegas_Strip_2007.jpg/1280px-Las_Vegas_Strip_2007.jpg",\n          "geoCoordinates": "36.0900,-115.1728",\n          "placeAddress": "Las Vegas Blvd South, Las Vegas, NV",\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "timeToTravel": "3 hours"\n        },\n        {\n          "time": "12:00 PM - 1:00 PM",\n          "placeName": "In-N-Out Burger",\n          "placeDetails": "Grab a cheap and tasty lunch.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/In-N-Out_Burger_restaurant_sign.jpg/1280px-In-N-Out_Burger_restaurant_sign.jpg",\n          "geoCoordinates": "36.10,-115.16", \n          "placeAddress": "Various locations",\n          "ticketPricing": "$10-$15",\n          "rating": 4,\n          "timeToTravel": "1 hour"\n        },\n        {\n          "time": "1:00 PM - 5:00 PM",\n          "placeName": "Fremont Street Experience",\n          "placeDetails": "Visit the Fremont Street Experience in Downtown Las Vegas.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Fremont_Street_Experience_at_night.jpg/1280px-Fremont_Street_Experience_at_night.jpg",\n          "geoCoordinates": "36.1699,-115.1400",\n          "placeAddress": "Fremont Street, Las Vegas, NV",\n          "ticketPricing": "Free",\n          "rating": 4,\n          "timeToTravel": "4 hours"\n        }\n      ]\n    },\n    {\n      "day": "Day 2",\n      "plan": [\n        {\n          "time": "9:00 AM - 12:00 PM",\n          "placeName": "The Strip (North)",\n          "placeDetails": "Explore the northern section of the Strip, Bellagio fountains.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Las_Vegas_Strip_at_night.jpg/1280px-Las_Vegas_Strip_at_night.jpg",\n          "geoCoordinates": "36.11,-115.17", \n          "placeAddress": "Las Vegas Blvd North, Las Vegas, NV",\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "timeToTravel": "3 hours"\n        },\n        {\n          "time": "12:00 PM - 1:00 PM",\n          "placeName": "Cheap Buffet Lunch",\n          "placeDetails": "Many casinos offer affordable lunch buffets. Check for deals and coupons.",\n          "placeImageUrl": "https://example.com/buffet.jpg",\n          "geoCoordinates": "36.11,-115.17", \n          "placeAddress": "Various Casinos",\n          "ticketPricing": "$15-$25",\n          "rating": 3.5,\n          "timeToTravel": "1 hour"\n        },\n        {\n          "time": "1:00 PM - 4:00 PM",\n          "placeName": "Seven Magic Mountains",\n          "placeDetails": "Drive to the Seven Magic Mountains art installation (about 30 minutes from the Strip).",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Seven_Magic_Mountains.jpg/1280px-Seven_Magic_Mountains.jpg",\n          "geoCoordinates": "36.0022,-114.9292",\n          "placeAddress": "Near Interstate 15, south of Las Vegas.",\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "timeToTravel": "3 hours (includes travel time)"\n        }\n      ]\n    },\n    {\n      "day": "Day 3",\n      "plan": [\n        {\n          "time": "9:00 AM - 12:00 PM",\n          "placeName": "Pool time at your hotel (or a cheap public pool)",\n          "placeDetails": "Relax and cool off.",\n          "placeImageUrl": "https://example.com/pool.jpg",\n          "geoCoordinates": "Check your hotel or local listings",\n          "placeAddress": "Check your hotel or local listings",\n          "ticketPricing": "Varies",\n          "rating": 4,\n          "timeToTravel": "3 hours"\n        },\n        {\n          "time": "12:00 PM - 1:00 PM",\n          "placeName": "Cheap Eats",\n          "placeDetails": "Find inexpensive options such as food trucks or local diners for lunch.",\n          "placeImageUrl": "https://example.com/cheapfood.jpg",\n          "geoCoordinates": "Check local listings",\n          "placeAddress": "Various locations",\n          "ticketPricing": "$10-$15",\n          "rating": 3.5,\n          "timeToTravel": "1 hour"\n        },\n        {\n          "time": "1:00 PM - 4:00 PM",\n          "placeName": "Free Activities",\n          "placeDetails": "Explore free options like walking around the Strip, visiting a park or exploring a free museum (some are available).",\n          "placeImageUrl": "https://example.com/free-activities.jpg",\n          "geoCoordinates": "Check local listings",\n          "placeAddress": "Various locations",\n          "ticketPricing": "Free",\n          "rating": 3.5,\n          "timeToTravel": "3 hours"\n        }\n      ]\n    }\n  ]\n}\n```\n\nRemember to replace the placeholder image URLs (`https://example.com/...`) with actual images.  Also, always verify pricing and opening times before your visit, as these things can change.  Enjoy your trip!\n',
        },
      ],
    },
  ],
});
